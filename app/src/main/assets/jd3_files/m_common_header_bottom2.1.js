(function(){MCommonHeaderBottom=function(d){var a="2.1";var f="";var e={useDefaultImp:true,css:["//st.360buyimg.com/common/commonH_B/css/header.css?v="+a],js:[]};if(d){if(typeof(d.useDefaultImp)=="boolean"){e.useDefaultImp=d.useDefaultImp}if(d.css){e.css=d.css}if(d.js){e.js=d.js}}var c={_isIncludedCss:false,debug:false,getSid:function(i,j){if(this._isNotBlank(j)){return i+"sid="+j}return""},getParam:function(k,i,j){if(typeof(j)!="undefined"){if(this._isNotBlank(k)){return"&"+i+"="+j}else{return"?"+i+"="+j}}else{return""}},templeteOutput:function(k){var i=k.templete;var m=k.param;var j=i;for(var l in m){j=j.replace(new RegExp("{"+l+"}","g"),m[l])}return j},hasClass:function(j,i){if(j){return j.className.match(new RegExp("(\\s|^)"+i+"(\\s|$)"))}else{return false}},addClass:function(j,i){if(j){if(!this.hasClass(j,i)){j.className+=" "+i}}},removeClass:function(k,i){if(this.hasClass(k,i)){var j=new RegExp("(\\s|^)"+i+"(\\s|$)");k.className=k.className.replace(j," ")}},removeClassBatch:function(k,i){for(var j in k){this.removeClass(this.getElementById(k[j]),i)}},includeCss:function(){if(!this._isIncludedCss){for(var j=0;j<e.css.length;j++){this._includeCss(e.css[j])}this._isIncludedCss=true}},innerHtml:function(i){var k=i.sid;var n=i.htmlStr;var l=i.prefix;var j=i.divId;var m=this.templeteOutput({templete:n,param:{prefix:l,sid:k}});this.getElementById(j).innerHTML=m},getElementById:function(i){return document.getElementById(i)},addEvent:function(k,j,i){var l=this.getElementById(k);if(l){l.addEventListener(j,i,false)}},removeEvent:function(k,j,i){var l=this.getElementById(k);if(l){l.removeEventListener(j,i,false)}},divShow:function(i){if(i){i.style.display=""}},divHide:function(i){if(i){i.style.display="none"}},loadJS:function(i,l){var k=document.createElement("script");k.type="text/javascript";k.src=i;k.onload=k.onreadystatechange=function(){if(this.readyState&&this.readyState=="loading"){return}l()};k.onerror=function(){j.removeChild(k);l()};var j=document.getElementsByTagName("head")[0];j.appendChild(k)},runFunction:function(i){if(i){i()}},loadDownloadAppPlugIn:function(i){if(e.useDefaultImp){this.loadJS(e.js[1],function(){i()})}},executeDefaultFunCtion:function(i,j){if(i&&e.useDefaultImp){if(j){i(j)}else{i()}}},_includeCss:function(k){var m=function(p,o){for(var n=0;n<p.length;n++){if(p[n].href&&p[n].href.indexOf(o)!=-1){return true}}return false};var i=document.getElementsByTagName("link");if(m(i,k)){return true}var l=document.createElement("link");l.setAttribute("rel","stylesheet");l.setAttribute("type","text/css");l.setAttribute("charset","utf-8");l.setAttribute("href",k);var j=document.getElementsByTagName("head")[0];j.appendChild(l)},_isNotBlank:function(i){if(i&&i!=""){return true}return false},printDeugInfo:function(i){if(this.debug){console.log(i)}}};var h={shortcutIds:[],args:{hrederId:"m_common_header",sid:"",isShowShortCut:false,selectedShortCut:""},create:function(k){this.args=k;if(!this._validate()){return false}var j=c.getSid("?",this.args.sid);var o=this.getTempleteHtml(this.args);var m=this.args.hrederId;var i=this.args.hrederId;this._initShortcutId(m);c.innerHtml({divId:i,sid:j,htmlStr:o,prefix:m});this._setCutrrentSelectedSyle(this.args.selectedShortCut);this._initShortCutShow(this.args.isShowShortCut,m);var l=this;c.addEvent(m+"_goback","click",function(){c.runFunction(l.args.onClickGoback);c.executeDefaultFunCtion(pageBack)});c.addEvent(m+"_jdkey","click",function(){c.runFunction(l.args.onClickJdkey);c.executeDefaultFunCtion(l.shortCutShowHide,m)});c.addEvent(m+"_shortcut_m_index","click",function(){c.runFunction(l.args.onClickIndex)});c.addEvent(m+"_shortcut_category_search","click",function(){c.runFunction(l.args.onClickSearch)});c.addEvent(m+"_shortcut_p_cart","click",function(){c.runFunction(l.args.onClickCart)});c.addEvent(m+"_shortcut_h_home","click",function(){c.runFunction(l.args.onClickHome)});try{this.args.call&&this.args.call()}catch(n){}},getShortcutId:function(i){return this.shortcutIds[i-1]},getTempleteHtml:function(m){var r='<header class="jd-header">    <div class="jd-header-bar">        <div id="{prefix}_goback" class="jd-header-icon-back"><span></span></div>        <div class="jd-header-title">{title}</div>';var q='        <div report-eventid="MCommonHead_NavigateButton"  report-eventparam="" page_name="'+f+'" id="{prefix}_jdkey" class="jd-header-icon-shortcut J_ping"><span></span></div>';var p="    </div>";var o='    <ul id="{prefix}_shortcut" class="jd-header-shortcut" style="display: none">        <li id="{prefix}_shortcut_m_index">            <a class="J_ping" report-eventid="MCommonHead_home"  report-eventparam="" page_name="'+f+'" href="http://m.jd.com/index.html{sid}">                <span class="shortcut-home"></span>                <strong>首页</strong>            </a>        </li>        <li class="J_ping" report-eventid="MCommonHead_CategorySearch"  report-eventparam="" page_name="'+f+'" id="{prefix}_shortcut_category_search">            <a href="http://m.jd.com/category/all.html{sid}">                <span class="shortcut-categories"></span>                <strong>分类搜索</strong>            </a>        </li>        <li class="J_ping" report-eventid="MCommonHead_Cart"  report-eventparam="" page_name="'+f+'"  id="{prefix}_shortcut_p_cart">            <a href="http://p.m.jd.com/cart/cart.action{sid}" id="html5_cart">                <span class="shortcut-cart"></span>                <strong>购物车</strong>            </a>        </li>        <li id="{prefix}_shortcut_h_home">            <a class="J_ping" report-eventid="MCommonHead_MYJD"  report-eventparam="" page_name="'+f+'"  href="http://home.m.jd.com/myJd/home.action{sid}">                <span class="shortcut-my-account"></span>                <strong>我的京东</strong>            </a>        </li>    </ul></header>';var n="";if(this.args.title){n=this.args.title}var i="";var k=m.isShowShortCutButton;var j=navigator.userAgent.indexOf("jdmsxh");var l=navigator.userAgent.indexOf("jdmsxh2");if(j>=0&&j!=l){k=false}if(typeof(k)=="undefined"||k){i=r+q+p+o}else{i=r+p}i=c.templeteOutput({templete:i,param:{title:n}});return i},shortCutShowHide:function(i){var j=c.getElementById(i+"_shortcut");var k=j.style.display;if(k=="none"){c.divShow(j)}else{c.divHide(j)}},_initShortcutId:function(j){var i=[j+"_shortcut_m_index",j+"_shortcut_category_search",j+"_shortcut_p_cart",j+"_shortcut_h_home"];this.shortcutIds=i},_initShortCutShow:function(j,i){var k=c.getElementById(i+"_shortcut");if(j){c.divShow(k)}else{c.divHide(k)}},_setCutrrentSelectedSyle:function(i){c.removeClassBatch(this.shortcutIds,"current");if(c._isNotBlank(this.getShortcutId(i))){c.addClass(c.getElementById(this.getShortcutId(i)),"current")}},_validate:function(){var i=true;if(!this._isHasHeaderId()){i=false}return i},_isHasHeaderId:function(){var i=false;if(c.getElementById(this.args.hrederId)){i=true}else{c.printDeugInfo("请正确拼写或添加通用头ID.")}return i}};var b={args:{bottomId:"m_common_bottom",sid:"",isShowBottom:true,footerPlatforms:""},create:function(k){this.args=k;if(!this._validate()){return false}var j=c.getSid("?",this.args.sid);var o=this.getTempleteHtml(this.args);var m=this.args.bottomId;var i=this.args.bottomId;c.innerHtml({divId:i,htmlStr:o,prefix:m});var l=this;this._addFooterPlatformEvent();try{this.args.call&&this.args.call()}catch(n){}},getTempleteHtml:function(i){var j='<footer id="{prefix}_jd_footer" class="jd-footer">'+this._getLinksHtml(i)+this._getPlatformsHtml(i)+this._getCopyrightHtml(i)+"</footer>";return j},_getLinksHtml:function(m){var j="";if(m.pin&&m.pin!=""){j='        <li class=""><a class="J_ping" report-eventid="MCommonHTail_Account"  report-eventparam="" page_name="'+f+'" rel="nofollow"  href="http://home.m.jd.com/myJd/home.action{sid}">{pin}</a></li>        <li><a class="J_ping" report-eventid="MCommonHTail_Exit"  report-eventparam="" page_name="'+f+'" rel="nofollow" href="https://passport.m.jd.com/user/logout.action{sid}">退出</a></li>'}else{j='        <li class=""><a class="J_ping" report-eventid="MCommonHTail_Login"  report-eventparam="" page_name="'+f+'" rel="nofollow" href="https://passport.m.jd.com/user/login.action{sid}{returnurl}">登录</a></li>        <li><a class="J_ping" report-eventid="MCommonHTail_Register"  report-eventparam="" page_name="'+f+'" rel="nofollow"  href="https://passport.m.jd.com/register/mobileRegister.action{sid}">注册</a></li>'}var n='	<div class="jd-1px-line-up"></div>    <ul class="jd-footer-links">'+j+'        <li><a class="J_ping" report-eventid="MCommonHTail_Feedback"  report-eventparam="" page_name="'+f+'" rel="nofollow" href="http://m.jd.com/showvote.html{sid}">反馈</a></li>        <li><a class="J_ping" report-eventid="MCommonHTail_ToTop"  report-eventparam="" page_name="'+f+'" rel="nofollow" href="#top">回到顶部</a></li>    </ul>';var i=c.getSid("?",m.sid);var l=m.pin;var k=c.getParam(i,"returnurl",m.returnurl);n=c.templeteOutput({templete:n,param:{sid:i,pin:l,returnurl:k}});return n},_getPlatformsHtml:function(j){var n=this.args.bottomId;var q=j.footerPlatforms;if(q.length<=0){return""}var p="";var m="";for(var l=0;l<q.length;l++){m=q[l];var k="";if(m.href){k="href='"+m.href+"'"}if(m.name=="standard"){p+='<li id="{prefix}_standard"  class="jd-footer-icon-standard"><a '+k+">标准版</a></li>"}else{if(m.name=="touchscreen"){p+='<li id="{prefix}_touchscreen" class="jd-footer-icon-touchscreen current"><a '+k+' class="J_ping" report-eventid="MCommonHTail_TouchEdition"  report-eventparam="" page_name="'+f+'">触屏版</a></li>'}else{if(m.name=="pc"){p+='<li id="{prefix}_pc" class="jd-footer-icon-pc"><a '+k+' class="J_ping" report-eventid="MCommonHTail_PCEdition"  report-eventparam="" page_name="'+f+'">电脑版</a></li>'}else{if(m.name=="apps"){p+='<li id="{prefix}_apps"  class="jd-footer-icon-apps"><a class="badge" "'+k+' class="J_ping" report-eventid="MCommonHTail_ClientApp"  report-eventparam="" page_name="'+f+'">客户端</a></li>'}}}}}var o='<div class="jd-1px-line-up"></div>    <ul class="jd-footer-platforms">'+p+"    </ul>";return o},_getCopyrightHtml:function(i){var j=new Date();var k='<div class="jd-1px-line-up"></div><div class="jd-footer-copyright">Copyright © 2004-'+j.getFullYear()+" 京东JD.com 版权所有 </div>";return k},_initDefaultFooterPlatforms:function(){this.args.footerPlatforms=this.platformEnum(this.args.sid).enum4},_addFooterPlatformEvent:function(){var j=this;var l=this.args.footerPlatforms;var k=this.args.bottomId;var i=function(n,m){var o=n+"_"+m;if(c.getElementById(o)){c.addEvent(o,"click",function(){for(var p=0;p<l.length;p++){if(l[p].name==m){c.runFunction(l[p].onClickX);break}}})}};i(k,"standard");i(k,"pc");i(k,"touchscreen");i(k,"apps");downloadAppPlugInForBottom(k+"_apps",j.args.downloadAppPlugIn)},_initBottomShow:function(j,i){var k=c.getElementById(i+"_jd_footer");if(j){c.divShow(k)}else{c.divHide(k)}},_validate:function(){var i=true;if(!this._isHasBottomId()){i=false}return i},_isHasBottomId:function(){var i=false;if(c.getElementById(this.args.bottomId)){i=true}else{c.printDeugInfo("请正确拼写或添加通用尾ID.")}return i}};var g={args:{tipId:"m_common_tip",sid:"",isShowTip:true,isfloat:true,onClickTrynow:function(){}},create:function(k){this.args=k;if(!this._validate()){return false}var l=window.localStorage?true:false;var j=c.getSid("?",this.args.sid);var i=this.getTempleteHtml(k);var m=this.args.tipId;var r=this.args.tipId;var p="_"+Math.floor(Math.random()*10)+Math.floor(Math.random()*10);var q=document.getElementById(r);q.setAttribute("id","content"+p);r="content"+p;q=document.getElementById(r);m=r;this.args.tipId=r;c.innerHtml({divId:r,sid:j,htmlStr:i,prefix:m});this._setFloat(this.args.isfloat,m);var n=this;c.addEvent(m+"_x","click",function(){c.runFunction(n.args.onClickTipX)});c.addEvent(m+"_trynow","click",function(){c.runFunction(n.args.onClickTrynow)});if(!this.args.isUseCustomDownloadApp){downloadAppPlugInForFloat(m+"_trynow",m+"_x",m+"_div",n.args.downloadAppPlugIn)}try{this.args.call&&this.args.call()}catch(o){}},getTempleteHtml:function(k){var j="免费领188元大红包</br>首次下单前即可领取";var l="";if(k.copyWrite){j=k.copyWrite}if(k.location){var i=k.location;l=' style = "'+localStyle+'"'}var m='<div id="{prefix}_div" '+l+' class="tryme onfoot">	    <div>	        <div id="{prefix}_x" class="later"></div>	        <a id="{prefix}_trynow" href="#" class="trynow"></a>	        <span>'+j+"</span>	    </div>	</div>";return m},_setFloat:function(j,i){var k=c.getElementById(i+"_div");if(k){if(j){c.addClass(k,"onfoot")}else{c.removeClass(k,"onfoot")}}},_showTip:function(j,i){var k=c.getElementById(i+"_div");if(j){c.divShow(k)}else{c.divHide(k)}},_validate:function(){var i=true;if(!this._isHasTipId()){i=false}return i},_isHasTipId:function(){var i=false;if(c.getElementById(this.args.tipId)){i=true}else{c.printDeugInfo("请正确拼写或添加通用提示ID.")}return i}};c.includeCss();return{header:function(i){h.create(i)},bottom:function(j){var k=navigator.userAgent.indexOf("jdmsxh");var i=navigator.userAgent.indexOf("jdmsxh2");if(k>=0&&k!=i){}else{b.create(j)}},jdTip:function(i){g.create(i)},platformEnum:function(k,i){var j="";if(i){j=c.getSid("&",i)}return{enum0:[],enum1:[{id:4,name:"apps",href:"",onClickX:function(){}}],enum2:[{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:4,name:"apps",href:"",onClickX:function(){}}],enum2_1:[{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:3,name:"pc",href:"",onClickX:function(){skip(k)}}],enum2_2:[{id:4,name:"apps",href:"",onClickX:function(){}},{id:2,name:"touchscreen",href:"",onClickX:function(){}}],enum3:[{id:4,name:"apps",href:"",onClickX:function(){}},{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:3,name:"pc",href:"",onClickX:function(){skip(k)}}],enum3_1:[{id:3,name:"pc",href:"",onClickX:function(){skip(k)}},{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:4,name:"apps",href:"",onClickX:function(){}}],enum3_2:[{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:3,name:"pc",href:"",onClickX:function(){skip(k)}},{id:4,name:"apps",href:"",onClickX:function(){}}]}},version:a}}})();